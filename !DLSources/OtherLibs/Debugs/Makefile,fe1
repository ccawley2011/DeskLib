# Sub-makefile for the Debugging libraries

DebugsDir	=	<DeskLib$$Dir>.o.Debug

debugs:				\
	$(DebugsDir).stderr	\
	$(DebugsDir).uniquepipe	\
	$(DebugsDir).pipetype	\
	$(DebugsDir).uniquefile	\
	$(DebugsDir).Signal
#	$(DebugsDir).heapgraph

$(DebugsDir).Signal:	OtherLibs/Debugs/Signal.o OtherLibs/Debugs/Debug.o
	@mkdir -p $(DebugsDir)
	$(AR) -c $@ $(AFLAFS) OtherLibs.Debugs.o.Signal OtherLibs.Debugs.o.Debug 

$(DebugsDir).pipetype:	OtherLibs/Debugs/pipetype.o OtherLibs/Debugs/Debug.o
	@mkdir -p $(DebugsDir)
	$(AR) -c $@ $(AFLAFS) OtherLibs.Debugs.o.pipetype OtherLibs.Debugs.o.Debug

$(DebugsDir).uniquepipe: OtherLibs/Debugs/uniquepipe.o OtherLibs/Debugs/Debug.o
	@mkdir -p $(DebugsDir)
	$(AR) -c $@ $(AFLAFS) OtherLibs.Debugs.o.uniquepipe OtherLibs.Debugs.o.Debug

$(DebugsDir).stderr:	OtherLibs/Debugs/stderr.o OtherLibs/Debugs/Debug.o
	@mkdir -p $(DebugsDir)
	$(AR) -c $@ $(AFLAFS) OtherLibs.Debugs.o.stderr OtherLibs.Debugs.o.Debug

$(DebugsDir).uniquefile: OtherLibs/Debugs/uniquefile.o OtherLibs/Debugs/Debug.o
	@mkdir -p $(DebugsDir)
	$(AR) -c $@ $(AFLAFS) OtherLibs.Debugs.o.uniquefile OtherLibs.Debugs.o.Debug

OtherLibs/Debugs/Debug.o:
	@mkdir -p $(@D)/o
	$(CC) $(CFLAGS) -D_DeskLib_Debug -c OtherLibs/Debugs/Debug.c -o $@

OtherLibs/Debugs/pipetype.o:  
	@mkdir -p $(@D)/o
	$(CC) $(CFLAGS) -D_DeskLib_Debug -c OtherLibs/Debugs/pipetype.c -o $@
	
OtherLibs/Debugs/uniquepipe.o: 
	@mkdir -p $(@D)/o
	$(CC) $(CFLAGS) -D_DeskLib_Debug -c OtherLibs/Debugs/uniquepipe.c -o $@
                             
OtherLibs/Debugs/stderr.o: 
	@mkdir -p $(@D)/o
	$(CC) $(CFLAGS) -D_DeskLib_Debug -c OtherLibs/Debugs/stderr.c -o $@
	
OtherLibs/Debugs/uniquefile.o: 
	@mkdir -p $(@D)/o
	$(CC) $(CFLAGS) -D_DeskLib_Debug -c OtherLibs/Debugs/uniquefile.c -o $@

# $(DebugsDir).heapgraph:	o.heapgraph o.Debug
# 	$(LIBFILE) $(LibFileFlags) $@ o.heapgraph o.Debug

