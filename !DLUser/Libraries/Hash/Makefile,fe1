
ObjectFiles	=		\
			o.Hash	\
			o.HashTest	\


LibName		=	Hash

# Template makefile which makes normal 
# .o files for use in the main static
# linking DeskLib.

# The macro $(ObjectFiles) should be set at the 
# start of this file to be a space-separated
# list of object files.
# This is done by 'Makatic'.

# The macro $(LibName) should also be set at the 
# start of this file, to be the name of the 
# DeskLib sublibrary.
# This is done by 'Makatic'.

# Compiler and linker flags, These can be anything. 
# All essential flags are included in the macros 
# $(CC) and $(ASM)
#
CCFlags		=	-ffahi $(CCExtra) -depend !Depend -throwback -D_DeskLib_$(LibName) -I,C:
ASMFlags	=	-Stamp -NoCache -CloseExec -Quit $(ASMExtra)
LibFileFlags	=	-c -o

CC		=	cc -c $(CCFlags)
ASM		=	objasm $(ASMFlags)
LIBFILE		=	LibFile $(LibFileFlags)


# -------------------------------------------------------
# Everything below here should probably not be changed...
# -------------------------------------------------------

VPATH = @

.SUFFIXES:	.c .s .o

# Here's what we want to make...
#
<DeskLib_User$Dir>.o.$(LibName):	$(ObjectFiles)
	$(LIBFILE) $@ $(ObjectFiles)

.c.o:
	$(CC) $< -o $@
	
.s.o:
	$(ASM) -from $< -to $@


# Dynamic dependencies:
o.Hash:	c.Hash
o.Hash:	DeskLib:h.Hash
o.Hash:	DeskLib:h.Core
o.HashTest:	c.HashTest
o.HashTest:	DeskLib:h.Hash
o.HashTest:	DeskLib:h.Core
